{% extends "base_admin.html.twig" %}

{% block title %}Create a mission{% endblock %}

{% block main %}
<h1 class="mb-4">Create a mission</h1>

{{ form_start(form) }}
{{ form_row(form.label) }}
{{ form_row(form.description) }}
{{ form_row(form.languageCourse) }}
{# {{ form_row(form.createdAt) }}
{{ form_row(form.updatedAt) }}
{{ form_row(form.xpReward) }} #}

<div {{ stimulus_controller('form-collection') }} data-form-collection-index-value="{{ form.questions|length }}"
  data-form-collection-prototype-value="{{ form_widget(form.questions.vars.prototype)|e('html_attr') }}">

  <div class="mb-3">
    <h3>Questions</h3>
    <ul class="list-unstyled" {{ stimulus_target('form-collection', 'collectionContainer' ) }}>
      {% for question in form.questions %}
      <li class="mb-3">{{ form_widget(question) }}</li>
      {% endfor %}
    </ul>

    <div class="btn-group">
      <button type="button" class="btn btn-primary" {{ stimulus_action('form-collection', 'addCollectionElement' ) }}>
        <i class="bi bi-plus-circle"></i> Ajouter une question
      </button>
      <button type="button" class="btn btn-danger" {{ stimulus_action('form-collection', 'removeCollectionElement' ) }}>
        <i class="bi bi-trash"></i> Supprimer la derni√®re question
      </button>
    </div>
  </div>

</div>
{{ form_end(form) }}

{% endblock %}